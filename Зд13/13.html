<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Домашнее задание. Форма регистрации</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <style>
        
        #logForm{
        background-color:#99c3fb;
        display:block;
        border-radius: 5%;
        padding:20px;
        margin-left: 25%;
        width:400px;
        }
        #inputPassword{
          margin-left: 10px;
        }

        #formMessage{
          color: rgb(148, 26, 26);
        }
        #seePas{
          border: 1px solid rgb(84, 124, 242) ;
        }
      
    </style>
</head>
<body>
    

    
<form method="get" action="" id="logForm">
 
    <div class="mb-3">
        <label for="inputEmail" class="form-label">Адрес электронной почты</label>
        <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp">
        <div id="formMessage" class="form-text">Мы никому не передадим вашу электронную почту.</div>
      </div>
      <div class="mb-3 input-group flex-nowrap ">
        <label for="inputPassword" class="form-label">Пароль</label>
        
        <input type="password" class="form-control" id="inputPassword">
        
        <button type="button" class="btn" id = "seePas">&#128065</button>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="Check1">
        <label class="form-check-label" for="Check1">Запомнить меня</label>
      </div>
      <button type="submit" class="btn btn-primary" id = btnSubmit disabled >Отправить</button>
</form>


<script>

  let formMessage = document.querySelector('#formMessage');
  
  let formEmail = document.querySelector('#inputEmail');
  
  let formPassword = document.querySelector('#inputPassword');
  
  let seePassword = document.querySelector('#seePas');

  let elementArray = [formEmail, formPassword, seePassword];

  function setMessage(message){

    formMessage.textContent = message;
  }

  // Сообщения при нажатии на поля ввода логина и пароля и на кнопку "показать пароль"
  
  formEmail.addEventListener('focus', function(){
    setMessage("Введите адрес электронной почты.");
  })

  formPassword.addEventListener('focus', function(){
    setMessage("Введите пароль не менее 8 символов.");
  })
  


  // Событие при потере фокуса элементом
  while(elementArray.length){

    elementArray.pop().addEventListener('blur', function(){
      setMessage("Мы никому не передадим вашу электронную почту.");

    })
  }

  function lenghtStr(string, number){
    return string.length > number;

  }

    function lenghtInput(){
      
      let buttonSubmit = document.getElementById('btnSubmit');
      

      if(lenghtStr(formEmail.value, 4) && lenghtStr(formPassword.value, 8)){
        
        buttonSubmit.removeAttribute('disabled');
      } else {
        
        buttonSubmit.setAttribute('disabled','disabled');
      }
    }

    formEmail.addEventListener('input',lenghtInput);
    formPassword.addEventListener('input', lenghtInput);

    function seePasword(){

      let inputPass = document.querySelector('#inputPassword')
      console.log('GHJ')
      console.log(inputPass.value)
      if(inputPass.value !==""){
          if(inputPass.getAttribute('type')=='password'){
            inputPass.setAttribute('type','text');
            setMessage("Ваш пароль.")
          } else {

            inputPass.setAttribute('type','password');
            setMessage("Пароль скрыт.")
          }
        }
       }
    seePassword.addEventListener('click',seePasword)
    
</script>

</body>
</html>